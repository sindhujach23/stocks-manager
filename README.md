# Stocks Manager Application

## Description
This application allows for stock data to be uploaded, stored and processed. The application requires postgres database and kafka to be running.

## Deployment
The application is available at http://192.18.152.46 for testing. Please test with small loads of data.

## Test Endpoints (local run)
### 1. Bulk upload
curl --location --request POST 'http://localhost/stocks/uploadBulkStocks' \
--header 'Content-Type: application/json' \
--data-raw '[
"1,AA,1/7/2011,$15.82,$16.72,$15.78,$16.42,239655616,3.79267,,,$16.71,$15.97,-4.42849,26,0.182704",
"1,AA,1/14/2011,$16.71,$16.71,$15.64,$15.97,242963398,-4.42849,1.380223028,239655616,$16.19,$15.79,-2.47066,19,0.187852",
"1,AA,1/21/2011,$16.19,$16.38,$15.60,$15.79,138428495,-2.47066,-43.02495926,242963398,$15.87,$16.13,1.63831,12,0.189994",
"1,AA,1/28/2011,$15.87,$16.63,$15.82,$16.13,151379173,1.63831,9.355500109,138428495,$16.18,$17.14,5.93325,5,0.185989",
"1,AA,2/4/2011,$16.18,$17.39,$16.18,$17.14,154387761,5.93325,1.987451735,151379173,$17.33,$17.37,0.230814,97,0.175029",
"1,AA,2/11/2011,$17.33,$17.48,$16.97,$17.37,114691279,0.230814,-25.71219489,154387761,$17.39,$17.28,-0.632547,90,0.172712",
"1,AA,2/18/2011,$17.39,$17.68,$17.28,$17.28,80023895,-0.632547,-30.22669579,114691279,$16.98,$16.68,-1.76678,83,0.173611",
"1,AA,2/25/2011,$16.98,$17.15,$15.96,$16.68,132981863,-1.76678,66.17769355,80023895,$16.81,$16.58,-1.36823,76,0.179856",
"1,AA,3/4/2011,$16.81,$16.94,$16.13,$16.58,109493077,-1.36823,-17.66315005,132981863,$16.58,$16.03,-3.31725,69,0.180941",
"1,AA,3/11/2011,$16.58,$16.75,$15.42,$16.03,114332562,-3.31725,4.419900447,109493077,$15.95,$16.11,1.00313,62,0.187149"
]'

### 2. Add stock
curl --location --request POST 'http://localhost/stocks/addStock' \
--header 'Content-Type: application/json' \
--data-raw '1,AA,1/7/2011,$15.82,$16.72,$15.78,$16.42,239655616,3.79267,,,$16.71,$15.97,-4.42849,26,0.182704'

### 3. Get by stock ticker
curl --location --request GET 'http://localhost/stocks/getStockDetails/AA' \
--header 'Content-Type: application/json'

### 4. Get by stock ticker and quarter
curl --location --request GET 'http://localhost/stocks/getQuarterlyStockDetails/1/AA' \
--header 'Content-Type: application/json'


## Test Endpoints (deployed app)
### 1. Bulk upload
curl --location --request POST 'http://192.18.152.46/stocks/uploadBulkStocks' \
--header 'Content-Type: application/json' \
--data-raw '[
"1,AA,1/7/2011,$15.82,$16.72,$15.78,$16.42,239655616,3.79267,,,$16.71,$15.97,-4.42849,26,0.182704",
"1,AA,1/14/2011,$16.71,$16.71,$15.64,$15.97,242963398,-4.42849,1.380223028,239655616,$16.19,$15.79,-2.47066,19,0.187852",
"1,AA,1/21/2011,$16.19,$16.38,$15.60,$15.79,138428495,-2.47066,-43.02495926,242963398,$15.87,$16.13,1.63831,12,0.189994",
"1,AA,1/28/2011,$15.87,$16.63,$15.82,$16.13,151379173,1.63831,9.355500109,138428495,$16.18,$17.14,5.93325,5,0.185989",
"1,AA,2/4/2011,$16.18,$17.39,$16.18,$17.14,154387761,5.93325,1.987451735,151379173,$17.33,$17.37,0.230814,97,0.175029",
"1,AA,2/11/2011,$17.33,$17.48,$16.97,$17.37,114691279,0.230814,-25.71219489,154387761,$17.39,$17.28,-0.632547,90,0.172712",
"1,AA,2/18/2011,$17.39,$17.68,$17.28,$17.28,80023895,-0.632547,-30.22669579,114691279,$16.98,$16.68,-1.76678,83,0.173611",
"1,AA,2/25/2011,$16.98,$17.15,$15.96,$16.68,132981863,-1.76678,66.17769355,80023895,$16.81,$16.58,-1.36823,76,0.179856",
"1,AA,3/4/2011,$16.81,$16.94,$16.13,$16.58,109493077,-1.36823,-17.66315005,132981863,$16.58,$16.03,-3.31725,69,0.180941",
"1,AA,3/11/2011,$16.58,$16.75,$15.42,$16.03,114332562,-3.31725,4.419900447,109493077,$15.95,$16.11,1.00313,62,0.187149"
]'

### 2. Add stock
curl --location --request POST 'http://192.18.152.46/stocks/addStock' \
--header 'Content-Type: application/json' \
--data-raw '1,AA,1/7/2011,$15.82,$16.72,$15.78,$16.42,239655616,3.79267,,,$16.71,$15.97,-4.42849,26,0.182704'

### 3. Get by stock ticker
curl --location --request GET 'http://192.18.152.46/stocks/getStockDetails/AA' \
--header 'Content-Type: application/json'

### 4. Get by stock ticker and quarter
curl --location --request GET 'http://192.18.152.46/stocks/getQuarterlyStockDetails/1/AA' \
--header 'Content-Type: application/json'